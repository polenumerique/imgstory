<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Images Aléatoires</title>
    <link href="https://fonts.googleapis.com/css2?family=Barlow:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Barlow', sans-serif;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #cef0f0;
        }
        .titre {
            text-align: center;
            margin-bottom: 20px;
        }
        .image-container {
            display: flex;
            gap: 20px;
            justify-content: center;
            overflow: hidden;
        }
        .image-container img {
            width: 300px;
            height: 600px;
            object-fit: cover;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            opacity: 0;
        }

        /* définition de l'animation de glissement */
        @keyframes slide-in {
            0% {
                transform: translateY(100%);
                opacity: 0;
            }
            100% {
                transform: translateY(0);
                opacity: 1;
            }
        }
    </style>
</head>
<body>
    <div class="titre">
        <h1>Imaginez une histoire en vous basant sur les 3 images ci-dessous.</h1>
    </div>
    <div class="image-container">
        <img id="img1" src="" alt="Image 1">
        <img id="img2" src="" alt="Image 2">
        <img id="img3" src="" alt="Image 3">
    </div>

    <audio id="imageSound">
        <source src="distribue.mp3" type="audio/mpeg">
    </audio>

    <script>
        function getRandomImages() {
            const imageFolder = 'images/';
            const images = [
                'archer.jpg', 'bateau.jpg', 'brebis.jpg', 'chambre.jpg', 'chat.jpg', 'cheval.jpg', 'chevalier.jpg', 'chien.jpg', 'dague.jpg', 'femme.jpg', 'fermier.jpg', 'garcon.jpg', 'homme.jpg', 'lettre.jpg','maison.jpg', 'muscles.jpg', 'pigeon.jpg', 'plage.jpg', 'policier.jpg', 'pompier.jpg', 'rouge_gorge.jpg', 'tour.jpg','vaisseau.jpg', 'vautour.jpg', 'voiture.jpg'
            ];
            
            let indicesUtilises = [];

                function getRandomIndex() {
                    let index;
                    do {
                        index = Math.floor(Math.random() * images.length);
                    } while (indicesUtilises.includes(index));
                    indicesUtilises.push(index);
                    return index;
                }
                
            function animateImage(imgElement, src, delay) {
                setTimeout(() => {
                    imgElement.src = src;
                    imgElement.style.animation = 'slide-in 1s ease-out forwards';
                    document.getElementById('imageSound').play();
                }, delay);
            }

            animateImage(document.getElementById('img1'), imageFolder + images[getRandomIndex()], 0);
            animateImage(document.getElementById('img2'), imageFolder + images[getRandomIndex()], 500);
            animateImage(document.getElementById('img3'), imageFolder + images[getRandomIndex()], 800);
        }

        getRandomImages();
    </script>
</body>
</html>
